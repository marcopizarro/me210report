<html>

    <head>
        <title>ME 210: Team Swervo</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@1,300&display=swap" rel="stylesheet">
    </head>

    <body>
        <h1>ME 210: Team Swervo</h1>
        <h2>Bill Of Materials</h2>
        <table class="waffle" cellspacing="0" cellpadding="0">
            <thead>
                <tr style="height: 20px">
                    <th id="0R0" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">1</div>
                    </th>
                    <td class="s0" dir="ltr">Item</td>
                    <td class="s0" dir="ltr">Quantity</td>
                    <td class="s0" dir="ltr">Total Cost ($)</td>
                </tr>
            <tbody>
                <tr style="height: 20px">
                    <th id="0R1" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">2</div>
                    </th>
                    <td class="s0" dir="ltr">Tape Sensor</td>
                    <td class="s1" dir="ltr">3</td>
                    <td class="s1" dir="ltr">12</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R2" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">3</div>
                    </th>
                    <td class="s0" dir="ltr">Stepper Motor</td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">6.25</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R3" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">4</div>
                    </th>
                    <td class="s0" dir="ltr">LS308 Driver</td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">2.5</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R4" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">5</div>
                    </th>
                    <td class="s0" dir="ltr">STD Servo </td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">12</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R5" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">6</div>
                    </th>
                    <td class="s0" dir="ltr">Coupler pairs</td>
                    <td class="s1" dir="ltr">2</td>
                    <td class="s1" dir="ltr">14</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R6" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">7</div>
                    </th>
                    <td class="s0" dir="ltr">Wheel Adapter</td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">4</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R7" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">8</div>
                    </th>
                    <td class="s0" dir="ltr">Wheel</td>
                    <td class="s1" dir="ltr">2</td>
                    <td class="s1" dir="ltr">10</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R8" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">9</div>
                    </th>
                    <td class="s0 softmerge" dir="ltr">
                        <div class="softmerge-inner" style="width:97px;left:-1px">Package of bearing</div>
                    </td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">15</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R9" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">10</div>
                    </th>
                    <td class="s0" dir="ltr">Vex motor</td>
                    <td class="s1" dir="ltr">2</td>
                    <td class="s1" dir="ltr">30</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R10" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">11</div>
                    </th>
                    <td class="s0" dir="ltr">Axle</td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">2.25</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R11" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">12</div>
                    </th>
                    <td class="s0" dir="ltr">Ball wheel</td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">1.5</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R12" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">13</div>
                    </th>
                    <td class="s0" dir="ltr">Limit Switch </td>
                    <td class="s1" dir="ltr">1</td>
                    <td></td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R13" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">14</div>
                    </th>
                    <td class="s0" dir="ltr">2*4 Duron</td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">4</td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R14" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">15</div>
                    </th>
                    <td class="s0" dir="ltr">Teensy LC</td>
                    <td class="s1" dir="ltr">1</td>
                    <td></td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R15" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">16</div>
                    </th>
                    <td class="s0" dir="ltr">Breadboards</td>
                    <td class="s1" dir="ltr">3</td>
                    <td></td>
                </tr>
                <tr style="height: 20px">
                    <th id="0R16" style="height: 20px;" class="row-headers-background">
                        <div class="row-header-wrapper" style="line-height: 20px">17</div>
                    </th>
                    <td class="s0" dir="ltr">1kg PLA</td>
                    <td class="s1" dir="ltr">1</td>
                    <td class="s1" dir="ltr">7</td>
                </tr>
            </tbody>
        </table>
        <h2>How to build the Swervo</h2>
        <div>
            <h3>1. Laser Cut Pieces for the Chassis</h3>
            <h4>Side Piece for Chassis:</h4>
            <p>
                These side pieces were designed to be laser cut and attached to the chassis via two screw/nut
                attachments and three press fit slots. It also has 3 holes that line up with a bearing that attaches
                to
                the Vexmotor and the wheels.
            </p>
            <img src="stepimages/1.png" alt="swervo">

            <h4>Servo Holder</h4>
            <p>
                This 3-D printed piece was designed to be attached to the side piece of the chassis and to hold
                the servo motor almost
                level to the ground to allow the scooper to attach to it and pick up balls.
            </p>
            <img src="stepimages/2.png" alt="swervo">

            <h4>Chassis Body</h4>
            <p>
                We designed the chassis with a bunch of evenly spaced holes in order to make it easier for
                us to prototype. This gave us
                the flexibility to move components around and attach them onto the chassis using fasteners.
            </p>
            <img src="stepimages/3.png" alt="swervo">

            <h4>Back Stop for Tape Sensors</h4>
            <p>
                This rectangular laser cut piece was precisely measured in order to have a snug fit
                between the two inner sides of the
                chassis. We placed it as close as possible to the ground in order to attach the tape
                sensors right above the ground and
                therefore provide more accurate readings for line following. However, after
                unsuccessfully troubleshooting with line
                following for a couple days, we decided to make a design change and add the tape sensor
                holder in the back of the robot.
                This ended up providing better readings for us.
            </p>

            <img src="stepimages/4.png" alt="swervo">
            <h4>Assembly of Chassis</h4>
            <p>
                This an assembled view of what all the laser cut and 3-D printed parts look like
                when assembled (not including the
                scooper)
            </p>
            <img src="stepimages/5.png" alt="swervo">
            <h4>Second Layer</h4>
            <p>
                We also laser cut a second layer for the chassis in order to maximize the space
                for our circuits. We decreased the
                amount of holes to reduce the cut time.
            </p>
        </div>
        <div>
            <h3>2. Attach motors and wheels</h3>
            <p>
                After laser cutting and 3-D printing all the parts, the next step was to integrate the wheels and motor.
                Since the
                dimensions for the holes weren’t perfectly aligned, we used a power drill to line up the holes to fit
                with the bearing.
                Once it fit, we used the built in fasteners on the VEX motors to attach the motor and insert the shafts
                for the wheels.
                We also added couplers to prevent the wheels from hitting the side of the chassis and minimize the load
                on the wheels.
            </p>
            <img src="stepimages/6.png" alt="swervo">
            <h4>Improvisation</h4>
            <p>
                In order to balance out the two back wheels, we also added a “roller wheel” in the front. We created a
                prototype support
                out of foam core, where we basically stuck nails through the holes on the chassis and all the way
                through the foam core.
                This attachment ended up working just fine, so we decided to keep it and focus on the more important
                functions of our
                robot.
            </p>
            <img src="stepimages/7.png" alt="swervo">
        </div>
        <div>
            <h3>3. Code/Circuitry to move motors and adjust speed</h3>
            <p>
                Robot.h is a library designed for this class that streamlines the development and debugging process of
                creating a
                running robot. Key features in the library include debugging functions that print out sensor readings, a
                diagnostic
                command, and motor function handlers.

                The idea to create the library stems from the hours of the early development process. Trying to debug
                and organize code
                was very difficult and unintuitive. This library has easily readable functions that do exactly what they
                are named. This
                way, we abstract the underlying code that allows for certain robot tasks and instead have the end user
                focus more on
                complementing a state machine for the robot. For example, if one wanted the robot to line follow at a
                certain state,
                they can simply write robot.Follow() without worrying about edge cases and maintaining the same logic in
                a not the part
                of the program. By defining a few key pins using the given library structs, anyone trying to recreate
                our robot will be
                able to utilize the library.

                Overall, the creating of the library came with a steep up front cost but it eventually paid off when it
                came to creating
                the state machine logic. The code we developed became much cleaner and easier to understand and helped a
                lot when it
                came to debugging. Having a program only deal with states and a library only deal with robot functions
                helped
                decentralize errors and ultimately made refactoring and fixing code a lot easier.
            </p>
            <h4><a href="https://github.com/marcopizarro/ME210FinalProject" target="_blank">Link to GitHub↗</a></h4>

        </div>
        <div>
            <h3>4. Test Line Following</h3>
            <p>
                This was our temporary set up to test the line sensors, but our inconsistent values taught us that we
                needed to laser
                cut a stable back stop to hot glue them to.
            </p>
            <img src="stepimages/8.png" alt="">
            <h4>Final Line Sensor Attachment</h4>
            <p>
                After still not getting consistent readings from the tape sensors when having them aligned with the
                front wheels, we
                decided to add the tape sensors in front of the roller wheel instead. We hot glued a piece of duron to
                the sides and
                aligned 5 different tape sensors (instead of 3), which we found gave us more accurate readings.
            </p>
            <img src="stepimages/9.png" alt="">
        </div>
        <div>
            <h3>5. Scooper</h3>
            <p>
                After finally getting our robot to line follow somewhat consistently, we began to prototype with our
                scooper. We made a
                cardboard prototype in order to get the dimensions and make sure it would pick up the balls.
            </p>
            <img src="stepimages/10.png" alt="">
            <img src="stepimages/11.png" alt="">
            <h4>Scooper CAD</h4>
            <p>
                This prototype taught us that we needed to make the scooper sloped in order to pick up the balls, and
                also had a solid
                attachment to the servo motor. We 3-D printed the base and sides separately and hot glued them to reduce
                print time. We
                printed it out of PLA in order to reduce the load on the servo.
            </p>
            <img src="stepimages/12.png" alt="">
            <h4>Final Scooper CAD</h4>
            <img src="stepimages/13.png" alt="">
            <h4>Servo Attachment</h4>
            <p>
                We designed this piece to be a relatively snug fit into the rotating “blade” of the servo motor & used
                hot glue to
                ensure it stayed. We also added 4 holes to attach it to the scooper with nuts and bolts.
            </p>
            <img src="stepimages/14.png" alt="">
            <h4>Adjustments to the Scooper</h4>
            <p>
                Just like most things in engineering, the assembly of the scooper didn’t go as planned. Our first 3-D
                print was barely
                big enough to fit 5 balls, so we improvised and attached the sides of our previous unsuccessful print to
                increase the
                length by an inch on each side. Also, our limit switch on the side of the scooper wasn’t always getting
                read because the
                opposite side of the scooper would hit the wall first.
                In order to fix this, we wrapped a rubber band around the side opposite of the limit switch to make the
                side with the
                limit switch always hit the wall first. In addition, this additional tension on the right side of the
                scooper helped
                brace the scooper for the impact it felt when hitting the wall.

            </p>
            <img src="stepimages/15.png" alt="">
            <h4>Final Assembly</h4>
            <img src="stepimages/16.png" alt="">

        </div>
        <div>
            <h3>6. Set up circuitry for servo & integrate code</h3>
            <p>
                Team Swervo sought to intelligently integrate the technology that we had spent the past six weeks
                learning about. Our
                strategy revolved around line-sensing to arrive at the scoring area and deposit the balls. However, we
                also employed a
                limit switch on the end of the scooper to allow for efficient loading of balls in the loading area. A
                servo powered the
                scooping motion, and two Vex motors provided power and directional control. The key challenge we faced
                as a team was the
                integration of these systems into a sequence of states.
                In order to properly sense the lines at all times of the day, specific thresholds were not set. Rather,
                the Swero robot
                calibrates its line sensing thresholds at the beginning of each trial. The sensors are placed over a
                black line, then
                over no line, and from there the robot makes thresholds of black and white. This way, the robot is
                always calibrated to
                the time of day or any variances from one trial to another.
                With the line sensors set, Swervo moves forward to scoop the balls. The limit switch on the end of the
                scooper triggers
                the scooping action, after which the line following begins. In one fluid movement, Swervo loads the
                balls and begins its
                line-following journey to the scoring area. In pursuit of an elegant solution, timers are completely
                omitted from the
                scooping, line-following, and releasing algorithm. To increase simplicity, Lead IR Receiving Specialist
                Ziyad Gawish
                created a library with useful commands such as “Robot.moveforward”.
                With each segment of the line as a different state, the junctions served as state transition points.
                Upon arriving at
                the scoring area, Swervo again avoids the use of a timer. However, because of the placement of the
                scooper, Swervo must
                turn around in order to score. The robot knows that it has completed the full 180-degree turn when the
                outermost line
                sensor picks up the black line again, at which time Swervo drives straight forward and releases the
                balls into the
                scoring area.
            </p>

        </div>
        <div>
            <h3>7. Execute state diagram to complete the task</h3>
            <p>
                <img style="width: 100%;" src="images/state.jpg" alt="">
            </p>
        </div>
        <h3>Final Thoughts</h3>
        <p>The many late nights and frustrating hours spent designing the robot taught Team Swervo about the
            importance of
            robustness in the design of both the mechanical and code elements. Furthermore, we learned firsthand how
            difficult it
            can be to gain consistency from a mechatronic system through the many ups and downs of successful, then
            unsuccessful
            trials. Overall, it was an incredibly educational experience and we appreciate the entire teaching team
            for everything
            they have done for a great quarter!</p>
        <h2>Demo Video</h2>

        <video width="20%" controls>
            <source src="images/final.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <!-- <br><br><br><br>
        <h3>Some More Images</h3>
        <div class="slideshow-container">

            <div class="mySlides fade">
                <div class="numbertext">1 / 7</div>
                <img src="images/crazyWires.jpeg" style="width:100%">
                <div class="text">All 5 Of Our Line Sensors</div>
            </div>

            <div class="mySlides fade">
                <div class="numbertext">2 / 7</div>
                <img src="images/online.jpeg" style="width:100%">
                <div class="text">Testing!</div>
            </div>

            <div class="mySlides fade">
                <div class="numbertext">3 / 7</div>
                <img src="images/frame.jpeg" style="width:100%">
                <div class="text">Laser Cut Frame</div>
            </div>

            <div class="mySlides fade">
                <div class="numbertext">4 / 7</div>
                <img src="images/roller.jpeg" style="width:100%">
                <div class="text">Powertrain & Roller Ball</div>
            </div>


            <div class="mySlides fade">
                <div class="numbertext">5 / 7</div>
                <img src="images/foam.jpeg" style="width:100%">
                <div class="text">Early Foam Prototoype</div>
            </div>

            <div class="mySlides fade">
                <div class="numbertext">6 / 7</div>
                <img src="images/batteries.jpeg" style="width:100%">
                <div class="text">Battery Placement on Chasis</div>
            </div>

            <div class="mySlides fade">
                <div class="numbertext">7 / 7</div>
                <img src="images/balls.jpeg" style="width:100%">
                <div class="text">Extended Shelf for Sheep

                </div>
            </div>

            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
        <br>

        <div style="text-align:center">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
            <span class="dot" onclick="currentSlide(4)"></span>
            <span class="dot" onclick="currentSlide(5)"></span>
            <span class="dot" onclick="currentSlide(6)"></span>
            <span class="dot" onclick="currentSlide(7)"></span>
        </div>
        <script src="index.js"></script> -->
    </body>

</html>